{-# LANGUAGE DataKinds #-}
{-# LANGUAGE TypeApplications #-}
{-# LANGUAGE ScopedTypeVariables #-}
{-# LANGUAGE FlexibleContexts #-}

-- | CLSActivity represents user generated activity data for a given context.
--
-- CLSActivity has three major components.
--
-- (1) Progress, used to measure the amount of activity a user generates as a percentage.             (2) Duration, used to measure the length of time a user spent on this activity. Use @-start@ and @-stop@ methods.             (3) Activity Items, used to gather information about the activity generated by a user.
--
-- Generated bindings for @CLSActivity@.
module ObjC.ClassKit.CLSActivity
  ( CLSActivity
  , IsCLSActivity(..)
  , addProgressRangeFromStart_toEnd
  , addAdditionalActivityItem
  , start
  , stop
  , removeAllActivityItems
  , progress
  , setProgress
  , duration
  , primaryActivityItem
  , setPrimaryActivityItem
  , additionalActivityItems
  , started
  , addAdditionalActivityItemSelector
  , addProgressRangeFromStart_toEndSelector
  , additionalActivityItemsSelector
  , durationSelector
  , primaryActivityItemSelector
  , progressSelector
  , removeAllActivityItemsSelector
  , setPrimaryActivityItemSelector
  , setProgressSelector
  , startSelector
  , startedSelector
  , stopSelector


  ) where

import Foreign.Ptr (Ptr, FunPtr)
import Foreign.C.Types

import ObjC.Runtime.Types
import ObjC.Runtime.Message (sendMessage, sendOwnedMessage, sendClassMessage, sendOwnedClassMessage)
import ObjC.Runtime.Selector (mkSelector)
import ObjC.Runtime.Class (getRequiredClass)

import ObjC.ClassKit.Internal.Classes
import ObjC.Foundation.Internal.Classes

-- | Adds progress to this activity.
--
-- The progress should be a decimal representation of the start and ending percentage [0.0, 1.0].
--
-- @start@ — Starting percentage.
--
-- @end@ — Ending percentage.
--
-- ObjC selector: @- addProgressRangeFromStart:toEnd:@
addProgressRangeFromStart_toEnd :: IsCLSActivity clsActivity => clsActivity -> CDouble -> CDouble -> IO ()
addProgressRangeFromStart_toEnd clsActivity start end =
  sendMessage clsActivity addProgressRangeFromStart_toEndSelector start end

-- | Add an activity item to this CLSActivity.
--
-- ObjC selector: @- addAdditionalActivityItem:@
addAdditionalActivityItem :: (IsCLSActivity clsActivity, IsCLSActivityItem activityItem) => clsActivity -> activityItem -> IO ()
addAdditionalActivityItem clsActivity activityItem =
  sendMessage clsActivity addAdditionalActivityItemSelector (toCLSActivityItem activityItem)

-- | Start Activity.
--
-- Starts the activity (or resumes if previously stopped).
--
-- ObjC selector: @- start@
start :: IsCLSActivity clsActivity => clsActivity -> IO ()
start clsActivity =
  sendMessage clsActivity startSelector

-- | Stop Activity.
--
-- Stops or pauses the activity and ends the time being tracked on it.
--
-- ObjC selector: @- stop@
stop :: IsCLSActivity clsActivity => clsActivity -> IO ()
stop clsActivity =
  sendMessage clsActivity stopSelector

-- | Deletes all activity items.
--
-- Convenience method to delete all activity items associated with the current activity.
--
-- ObjC selector: @- removeAllActivityItems@
removeAllActivityItems :: IsCLSActivity clsActivity => clsActivity -> IO ()
removeAllActivityItems clsActivity =
  sendMessage clsActivity removeAllActivityItemsSelector

-- | Current progress as a decimal representation of a percentage.
--
-- Should be [0.0, 1.0].
--
-- ObjC selector: @- progress@
progress :: IsCLSActivity clsActivity => clsActivity -> IO CDouble
progress clsActivity =
  sendMessage clsActivity progressSelector

-- | Current progress as a decimal representation of a percentage.
--
-- Should be [0.0, 1.0].
--
-- ObjC selector: @- setProgress:@
setProgress :: IsCLSActivity clsActivity => clsActivity -> CDouble -> IO ()
setProgress clsActivity value =
  sendMessage clsActivity setProgressSelector value

-- | Returns the total time tracked in this activity (excluding any previous activities).
--
-- The time between calling @-start@ and @-stop.@
--
-- ObjC selector: @- duration@
duration :: IsCLSActivity clsActivity => clsActivity -> IO CDouble
duration clsActivity =
  sendMessage clsActivity durationSelector

-- | The primary activityItem to be reported on.
--
-- This can be nil indicating @progress@ property is the primary data instead of any activityItems.
--
-- ObjC selector: @- primaryActivityItem@
primaryActivityItem :: IsCLSActivity clsActivity => clsActivity -> IO (Id CLSActivityItem)
primaryActivityItem clsActivity =
  sendMessage clsActivity primaryActivityItemSelector

-- | The primary activityItem to be reported on.
--
-- This can be nil indicating @progress@ property is the primary data instead of any activityItems.
--
-- ObjC selector: @- setPrimaryActivityItem:@
setPrimaryActivityItem :: (IsCLSActivity clsActivity, IsCLSActivityItem value) => clsActivity -> value -> IO ()
setPrimaryActivityItem clsActivity value =
  sendMessage clsActivity setPrimaryActivityItemSelector (toCLSActivityItem value)

-- | Array of all additional activity items on this CLSActivity.
--
-- ObjC selector: @- additionalActivityItems@
additionalActivityItems :: IsCLSActivity clsActivity => clsActivity -> IO (Id NSArray)
additionalActivityItems clsActivity =
  sendMessage clsActivity additionalActivityItemsSelector

-- | Returns whether this Activity has been started or not.
--
-- ObjC selector: @- started@
started :: IsCLSActivity clsActivity => clsActivity -> IO Bool
started clsActivity =
  sendMessage clsActivity startedSelector

-- ---------------------------------------------------------------------------
-- Selectors
-- ---------------------------------------------------------------------------

-- | @Selector@ for @addProgressRangeFromStart:toEnd:@
addProgressRangeFromStart_toEndSelector :: Selector '[CDouble, CDouble] ()
addProgressRangeFromStart_toEndSelector = mkSelector "addProgressRangeFromStart:toEnd:"

-- | @Selector@ for @addAdditionalActivityItem:@
addAdditionalActivityItemSelector :: Selector '[Id CLSActivityItem] ()
addAdditionalActivityItemSelector = mkSelector "addAdditionalActivityItem:"

-- | @Selector@ for @start@
startSelector :: Selector '[] ()
startSelector = mkSelector "start"

-- | @Selector@ for @stop@
stopSelector :: Selector '[] ()
stopSelector = mkSelector "stop"

-- | @Selector@ for @removeAllActivityItems@
removeAllActivityItemsSelector :: Selector '[] ()
removeAllActivityItemsSelector = mkSelector "removeAllActivityItems"

-- | @Selector@ for @progress@
progressSelector :: Selector '[] CDouble
progressSelector = mkSelector "progress"

-- | @Selector@ for @setProgress:@
setProgressSelector :: Selector '[CDouble] ()
setProgressSelector = mkSelector "setProgress:"

-- | @Selector@ for @duration@
durationSelector :: Selector '[] CDouble
durationSelector = mkSelector "duration"

-- | @Selector@ for @primaryActivityItem@
primaryActivityItemSelector :: Selector '[] (Id CLSActivityItem)
primaryActivityItemSelector = mkSelector "primaryActivityItem"

-- | @Selector@ for @setPrimaryActivityItem:@
setPrimaryActivityItemSelector :: Selector '[Id CLSActivityItem] ()
setPrimaryActivityItemSelector = mkSelector "setPrimaryActivityItem:"

-- | @Selector@ for @additionalActivityItems@
additionalActivityItemsSelector :: Selector '[] (Id NSArray)
additionalActivityItemsSelector = mkSelector "additionalActivityItems"

-- | @Selector@ for @started@
startedSelector :: Selector '[] Bool
startedSelector = mkSelector "started"

