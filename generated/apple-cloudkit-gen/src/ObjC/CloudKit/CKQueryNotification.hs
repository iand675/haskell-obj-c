{-# LANGUAGE PatternSynonyms #-}
{-# LANGUAGE DataKinds #-}
{-# LANGUAGE TypeApplications #-}
{-# LANGUAGE ScopedTypeVariables #-}
{-# LANGUAGE FlexibleContexts #-}

-- | A notification generated by a ``CKQuerySubscription``
--
-- @notificationType@ == @.query@ When properties must be dropped (see @isPruned),@ here's the order of importance.  The most important properties are first, they'll be the last ones to be dropped. - notificationID - badge - alertLocalizationKey - alertLocalizationArgs - alertBody - alertActionLocalizationKey - alertLaunchImage - soundName - content-available - desiredKeys - queryNotificationReason - recordID - containerIdentifier - subscriptionOwnerUserRecordID - titleLocalizationKey - titleLocalizationArgs - title - subtitleLocalizationKey - subtitleLocalizationArgs - subtitle
--
-- Generated bindings for @CKQueryNotification@.
module ObjC.CloudKit.CKQueryNotification
  ( CKQueryNotification
  , IsCKQueryNotification(..)
  , queryNotificationReason
  , recordFields
  , recordID
  , databaseScope
  , databaseScopeSelector
  , queryNotificationReasonSelector
  , recordFieldsSelector
  , recordIDSelector

  -- * Enum types
  , CKDatabaseScope(CKDatabaseScope)
  , pattern CKDatabaseScopePublic
  , pattern CKDatabaseScopePrivate
  , pattern CKDatabaseScopeShared
  , CKQueryNotificationReason(CKQueryNotificationReason)
  , pattern CKQueryNotificationReasonRecordCreated
  , pattern CKQueryNotificationReasonRecordUpdated
  , pattern CKQueryNotificationReasonRecordDeleted

  ) where

import Foreign.Ptr (Ptr, FunPtr)
import Foreign.C.Types

import ObjC.Runtime.Types
import ObjC.Runtime.Message (sendMessage, sendOwnedMessage, sendClassMessage, sendOwnedClassMessage)
import ObjC.Runtime.Selector (mkSelector)
import ObjC.Runtime.Class (getRequiredClass)

import ObjC.CloudKit.Internal.Classes
import ObjC.CloudKit.Internal.Enums
import ObjC.Foundation.Internal.Classes

-- | @- queryNotificationReason@
queryNotificationReason :: IsCKQueryNotification ckQueryNotification => ckQueryNotification -> IO CKQueryNotificationReason
queryNotificationReason ckQueryNotification =
  sendMessage ckQueryNotification queryNotificationReasonSelector

-- | A set of key->value pairs for creates and updates.
--
-- You request the server fill out this property via the @desiredKeys@ property of @CKSubscription.NotificationInfo@
--
-- ObjC selector: @- recordFields@
recordFields :: IsCKQueryNotification ckQueryNotification => ckQueryNotification -> IO (Id NSDictionary)
recordFields ckQueryNotification =
  sendMessage ckQueryNotification recordFieldsSelector

-- | @- recordID@
recordID :: IsCKQueryNotification ckQueryNotification => ckQueryNotification -> IO (Id CKRecordID)
recordID ckQueryNotification =
  sendMessage ckQueryNotification recordIDSelector

-- | @- databaseScope@
databaseScope :: IsCKQueryNotification ckQueryNotification => ckQueryNotification -> IO CKDatabaseScope
databaseScope ckQueryNotification =
  sendMessage ckQueryNotification databaseScopeSelector

-- ---------------------------------------------------------------------------
-- Selectors
-- ---------------------------------------------------------------------------

-- | @Selector@ for @queryNotificationReason@
queryNotificationReasonSelector :: Selector '[] CKQueryNotificationReason
queryNotificationReasonSelector = mkSelector "queryNotificationReason"

-- | @Selector@ for @recordFields@
recordFieldsSelector :: Selector '[] (Id NSDictionary)
recordFieldsSelector = mkSelector "recordFields"

-- | @Selector@ for @recordID@
recordIDSelector :: Selector '[] (Id CKRecordID)
recordIDSelector = mkSelector "recordID"

-- | @Selector@ for @databaseScope@
databaseScopeSelector :: Selector '[] CKDatabaseScope
databaseScopeSelector = mkSelector "databaseScope"

