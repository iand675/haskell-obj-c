{-# LANGUAGE RecordWildCards #-}
{-# LANGUAGE TypeFamilies #-}

-- | Struct types for this framework.
--
-- Generated by objc-codegen. Do not edit.
module ObjC.GameController.Internal.Structs where

import Foreign.Ptr (Ptr, FunPtr)
import Foreign.Storable (Storable(..))
import Foreign.C.Types
import Foreign.LibFFI.Base (Arg, RetType, mkStorableArg, mkStorableRetType, newStructCType)
import Foreign.LibFFI.FFITypes
import Foreign.LibFFI.Internal (CType)
import System.IO.Unsafe (unsafePerformIO)
import ObjC.Runtime.Message (ObjCArgument(..), ObjCReturn(..), MsgSendVariant(..))

data GCPoint2 = GCPoint2
  { gcPoint2X :: !CFloat
  , gcPoint2Y :: !CFloat
  } deriving (Eq, Show)

instance Storable GCPoint2 where
  sizeOf    _ = 8
  alignment _ = 4
  peek p = GCPoint2 <$> peekByteOff p 0
    <*> peekByteOff p 4
  poke p (GCPoint2 {..}) = do
    pokeByteOff p 0 gcPoint2X
    pokeByteOff p 4 gcPoint2Y

{-# NOINLINE gcPoint2StructType #-}
gcPoint2StructType :: Ptr CType
gcPoint2StructType = unsafePerformIO $ fst <$> newStructCType [ffi_type_float, ffi_type_float]

argGCPoint2 :: GCPoint2 -> Arg
argGCPoint2 = mkStorableArg gcPoint2StructType

retGCPoint2 :: RetType GCPoint2
retGCPoint2 = mkStorableRetType gcPoint2StructType

instance ObjCArgument GCPoint2 where
  withObjCArg x k = k (argGCPoint2 x)

instance ObjCReturn GCPoint2 where
  type RawReturn GCPoint2 = GCPoint2
  objcRetType = retGCPoint2
  msgSendVariant = MsgSendStret
  fromRetained = pure
  fromOwned = pure

-- | Represents a quaternion (one way of parameterizing attitude). If q is an instance of GCQuaternion, mathematically it represents the following quaternion:
--
-- q.x*i + q.y*j + q.z*k + q.w
data GCQuaternion = GCQuaternion
  { gcQuaternionX :: !CDouble
  , gcQuaternionY :: !CDouble
  , gcQuaternionZ :: !CDouble
  , gcQuaternionW :: !CDouble
  } deriving (Eq, Show)

instance Storable GCQuaternion where
  sizeOf    _ = 32
  alignment _ = 8
  peek p = GCQuaternion <$> peekByteOff p 0
    <*> peekByteOff p 8
    <*> peekByteOff p 16
    <*> peekByteOff p 24
  poke p (GCQuaternion {..}) = do
    pokeByteOff p 0 gcQuaternionX
    pokeByteOff p 8 gcQuaternionY
    pokeByteOff p 16 gcQuaternionZ
    pokeByteOff p 24 gcQuaternionW

{-# NOINLINE gcQuaternionStructType #-}
gcQuaternionStructType :: Ptr CType
gcQuaternionStructType = unsafePerformIO $ fst <$> newStructCType [ffi_type_double, ffi_type_double, ffi_type_double, ffi_type_double]

argGCQuaternion :: GCQuaternion -> Arg
argGCQuaternion = mkStorableArg gcQuaternionStructType

retGCQuaternion :: RetType GCQuaternion
retGCQuaternion = mkStorableRetType gcQuaternionStructType

instance ObjCArgument GCQuaternion where
  withObjCArg x k = k (argGCQuaternion x)

instance ObjCReturn GCQuaternion where
  type RawReturn GCQuaternion = GCQuaternion
  objcRetType = retGCQuaternion
  msgSendVariant = MsgSendStret
  fromRetained = pure
  fromOwned = pure
