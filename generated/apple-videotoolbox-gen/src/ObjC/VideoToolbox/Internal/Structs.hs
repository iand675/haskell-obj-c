{-# LANGUAGE RecordWildCards #-}
{-# LANGUAGE TypeFamilies #-}

-- | Struct types for this framework.
--
-- Generated by objc-codegen. Do not edit.
module ObjC.VideoToolbox.Internal.Structs where

import Foreign.Ptr (Ptr, FunPtr)
import Foreign.Storable (Storable(..))
import Foreign.C.Types
import Foreign.LibFFI.Base (Arg, RetType, mkStorableArg, mkStorableRetType, newStructCType)
import Foreign.LibFFI.FFITypes
import Foreign.LibFFI.Internal (CType)
import System.IO.Unsafe (unsafePerformIO)
import ObjC.Runtime.Message (ObjCArgument(..), ObjCReturn(..), MsgSendVariant(..))

data VTDecompressionOutputCallbackRecord = VTDecompressionOutputCallbackRecord
  { vtDecompressionOutputCallbackRecordDecompressionOutputCallback :: !(Ptr ())
  , vtDecompressionOutputCallbackRecordDecompressionOutputRefCon :: !(Ptr ())
  } deriving (Eq, Show)

instance Storable VTDecompressionOutputCallbackRecord where
  sizeOf    _ = 16
  alignment _ = 8
  peek p = VTDecompressionOutputCallbackRecord <$> peekByteOff p 0
    <*> peekByteOff p 8
  poke p (VTDecompressionOutputCallbackRecord {..}) = do
    pokeByteOff p 0 vtDecompressionOutputCallbackRecordDecompressionOutputCallback
    pokeByteOff p 8 vtDecompressionOutputCallbackRecordDecompressionOutputRefCon

{-# NOINLINE vtDecompressionOutputCallbackRecordStructType #-}
vtDecompressionOutputCallbackRecordStructType :: Ptr CType
vtDecompressionOutputCallbackRecordStructType = unsafePerformIO $ fst <$> newStructCType [ffi_type_pointer, ffi_type_pointer]

argVTDecompressionOutputCallbackRecord :: VTDecompressionOutputCallbackRecord -> Arg
argVTDecompressionOutputCallbackRecord = mkStorableArg vtDecompressionOutputCallbackRecordStructType

retVTDecompressionOutputCallbackRecord :: RetType VTDecompressionOutputCallbackRecord
retVTDecompressionOutputCallbackRecord = mkStorableRetType vtDecompressionOutputCallbackRecordStructType

instance ObjCArgument VTDecompressionOutputCallbackRecord where
  withObjCArg x k = k (argVTDecompressionOutputCallbackRecord x)

instance ObjCReturn VTDecompressionOutputCallbackRecord where
  type RawReturn VTDecompressionOutputCallbackRecord = VTDecompressionOutputCallbackRecord
  objcRetType = retVTDecompressionOutputCallbackRecord
  msgSendVariant = MsgSendStret
  fromRetained = pure
  fromOwned = pure

data VTInt32Point = VTInt32Point
  { vtInt32PointX :: !CInt
  , vtInt32PointY :: !CInt
  } deriving (Eq, Show)

instance Storable VTInt32Point where
  sizeOf    _ = 8
  alignment _ = 4
  peek p = VTInt32Point <$> peekByteOff p 0
    <*> peekByteOff p 4
  poke p (VTInt32Point {..}) = do
    pokeByteOff p 0 vtInt32PointX
    pokeByteOff p 4 vtInt32PointY

{-# NOINLINE vtInt32PointStructType #-}
vtInt32PointStructType :: Ptr CType
vtInt32PointStructType = unsafePerformIO $ fst <$> newStructCType [ffi_type_sint, ffi_type_sint]

argVTInt32Point :: VTInt32Point -> Arg
argVTInt32Point = mkStorableArg vtInt32PointStructType

retVTInt32Point :: RetType VTInt32Point
retVTInt32Point = mkStorableRetType vtInt32PointStructType

instance ObjCArgument VTInt32Point where
  withObjCArg x k = k (argVTInt32Point x)

instance ObjCReturn VTInt32Point where
  type RawReturn VTInt32Point = VTInt32Point
  objcRetType = retVTInt32Point
  msgSendVariant = MsgSendStret
  fromRetained = pure
  fromOwned = pure

data VTInt32Size = VTInt32Size
  { vtInt32SizeWidth :: !CInt
  , vtInt32SizeHeight :: !CInt
  } deriving (Eq, Show)

instance Storable VTInt32Size where
  sizeOf    _ = 8
  alignment _ = 4
  peek p = VTInt32Size <$> peekByteOff p 0
    <*> peekByteOff p 4
  poke p (VTInt32Size {..}) = do
    pokeByteOff p 0 vtInt32SizeWidth
    pokeByteOff p 4 vtInt32SizeHeight

{-# NOINLINE vtInt32SizeStructType #-}
vtInt32SizeStructType :: Ptr CType
vtInt32SizeStructType = unsafePerformIO $ fst <$> newStructCType [ffi_type_sint, ffi_type_sint]

argVTInt32Size :: VTInt32Size -> Arg
argVTInt32Size = mkStorableArg vtInt32SizeStructType

retVTInt32Size :: RetType VTInt32Size
retVTInt32Size = mkStorableRetType vtInt32SizeStructType

instance ObjCArgument VTInt32Size where
  withObjCArg x k = k (argVTInt32Size x)

instance ObjCReturn VTInt32Size where
  type RawReturn VTInt32Size = VTInt32Size
  objcRetType = retVTInt32Size
  msgSendVariant = MsgSendStret
  fromRetained = pure
  fromOwned = pure
