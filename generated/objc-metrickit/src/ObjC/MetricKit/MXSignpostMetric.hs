{-# LANGUAGE TypeApplications #-}
{-# LANGUAGE ScopedTypeVariables #-}
{-# LANGUAGE FlexibleContexts #-}

-- | MXSignpostMetric
--
-- An MXMetric subclass that encapsulates signpost metrics.
--
-- Signposts emit using the os_log_t generated by makeLogHandleWithCategory: in MXMetricManger can be flagged for aggregation and reported back in MXMetricPayload.
--
-- Generated bindings for @MXSignpostMetric@.
module ObjC.MetricKit.MXSignpostMetric
  ( MXSignpostMetric
  , IsMXSignpostMetric(..)
  , signpostName
  , signpostCategory
  , signpostIntervalData
  , totalCount
  , signpostNameSelector
  , signpostCategorySelector
  , signpostIntervalDataSelector
  , totalCountSelector


  ) where

import Foreign.Ptr (Ptr, nullPtr, castPtr)
import Foreign.LibFFI
import Foreign.C.Types
import Data.Int (Int8, Int16)
import Data.Word (Word16)
import Data.Coerce (coerce)

import ObjC.Runtime.Types
import ObjC.Runtime.MsgSend (sendMsg, sendClassMsg)
import ObjC.Runtime.Selector (mkSelector)
import ObjC.Runtime.Class (getRequiredClass)

import ObjC.MetricKit.Internal.Classes
import ObjC.Foundation.Internal.Classes

-- | signpostName
--
-- The name associated with this aggregated signpost.
--
-- ObjC selector: @- signpostName@
signpostName :: IsMXSignpostMetric mxSignpostMetric => mxSignpostMetric -> IO (Id NSString)
signpostName mxSignpostMetric  =
  sendMsg mxSignpostMetric (mkSelector "signpostName") (retPtr retVoid) [] >>= retainedObject . castPtr

-- | signpostCategory
--
-- The category associated with this aggregated signpost.
--
-- ObjC selector: @- signpostCategory@
signpostCategory :: IsMXSignpostMetric mxSignpostMetric => mxSignpostMetric -> IO (Id NSString)
signpostCategory mxSignpostMetric  =
  sendMsg mxSignpostMetric (mkSelector "signpostCategory") (retPtr retVoid) [] >>= retainedObject . castPtr

-- | signpostIntervalData
--
-- A class that encapsulates metrics associated with app specific signpost intervals.
--
-- This property is null when signposts with the associated signpostName and signpostCategory contain no intervals.
--
-- ObjC selector: @- signpostIntervalData@
signpostIntervalData :: IsMXSignpostMetric mxSignpostMetric => mxSignpostMetric -> IO (Id MXSignpostIntervalData)
signpostIntervalData mxSignpostMetric  =
  sendMsg mxSignpostMetric (mkSelector "signpostIntervalData") (retPtr retVoid) [] >>= retainedObject . castPtr

-- | totalCount
--
-- The total number of signposts emit with the given signpostName in the aggregation period of the parent payload.
--
-- ObjC selector: @- totalCount@
totalCount :: IsMXSignpostMetric mxSignpostMetric => mxSignpostMetric -> IO CULong
totalCount mxSignpostMetric  =
  sendMsg mxSignpostMetric (mkSelector "totalCount") retCULong []

-- ---------------------------------------------------------------------------
-- Selectors
-- ---------------------------------------------------------------------------

-- | @Selector@ for @signpostName@
signpostNameSelector :: Selector
signpostNameSelector = mkSelector "signpostName"

-- | @Selector@ for @signpostCategory@
signpostCategorySelector :: Selector
signpostCategorySelector = mkSelector "signpostCategory"

-- | @Selector@ for @signpostIntervalData@
signpostIntervalDataSelector :: Selector
signpostIntervalDataSelector = mkSelector "signpostIntervalData"

-- | @Selector@ for @totalCount@
totalCountSelector :: Selector
totalCountSelector = mkSelector "totalCount"

