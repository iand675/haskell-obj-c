{-# LANGUAGE FlexibleInstances #-}
{-# LANGUAGE MultiParamTypeClasses #-}

-- | Internal module: all type tags, aliases, type classes, and
-- hierarchy instances for this framework.
--
-- Exists to break import cycles between per-class modules.
-- Import the per-class modules for the public API.
module ObjC.OSLog.Internal.Classes (
    module ObjC.OSLog.Internal.Classes,
    module ObjC.Foundation.Internal.Classes,
  ) where

import Data.Proxy (Proxy(..))
import ObjC.Runtime.Types
import ObjC.Runtime.Class (getRequiredClass)
import ObjC.Foundation.Internal.Classes

-- ---------- OSLogEntry ----------

-- | OSLogEntry
--
-- A single entry from the unified logging system.
-- 
-- Phantom type for @OSLogEntry@.
data OSLogEntry

instance IsObjCObject (Id OSLogEntry) where
  toRawId = idToRawId
  withObjCPtr = withIdObjCPtr
  staticClass _ = getRequiredClass "OSLogEntry"

class IsNSObject a => IsOSLogEntry a where
  toOSLogEntry :: a -> Id OSLogEntry

instance IsOSLogEntry (Id OSLogEntry) where
  toOSLogEntry = unsafeCastId

instance IsNSObject (Id OSLogEntry) where
  toNSObject = unsafeCastId

-- ---------- OSLogMessageComponent ----------

-- | OSLogMessageComponent
--
-- The message arguments for a particular entry. There is one component for each placeholder in the formatString plus one component for any text after the last placeholder.
-- 
-- Phantom type for @OSLogMessageComponent@.
data OSLogMessageComponent

instance IsObjCObject (Id OSLogMessageComponent) where
  toRawId = idToRawId
  withObjCPtr = withIdObjCPtr
  staticClass _ = getRequiredClass "OSLogMessageComponent"

class IsNSObject a => IsOSLogMessageComponent a where
  toOSLogMessageComponent :: a -> Id OSLogMessageComponent

instance IsOSLogMessageComponent (Id OSLogMessageComponent) where
  toOSLogMessageComponent = unsafeCastId

instance IsNSObject (Id OSLogMessageComponent) where
  toNSObject = unsafeCastId

-- ---------- OSLogPosition ----------

-- | OSLogPosition
--
-- An opaque abstraction representing a point in a sequence of entries in the unified logging system.
--
-- Generate positions with OSLogStore instance methods and use them to start viewing entries from a particular starting point.
-- 
-- Phantom type for @OSLogPosition@.
data OSLogPosition

instance IsObjCObject (Id OSLogPosition) where
  toRawId = idToRawId
  withObjCPtr = withIdObjCPtr
  staticClass _ = getRequiredClass "OSLogPosition"

class IsNSObject a => IsOSLogPosition a where
  toOSLogPosition :: a -> Id OSLogPosition

instance IsOSLogPosition (Id OSLogPosition) where
  toOSLogPosition = unsafeCastId

instance IsNSObject (Id OSLogPosition) where
  toNSObject = unsafeCastId

-- ---------- OSLogStore ----------

-- | OSLogStore
--
-- A set of entries from the unified logging system. Instances represent a fixed range of entries and may be backed by a logarchive or the Mac's local store.
--
-- Entries in OSLogStore objects are used by OSLogEnumerator instances; one store can support multiple OSLogEnumerator instances concurrently.
-- 
-- Phantom type for @OSLogStore@.
data OSLogStore

instance IsObjCObject (Id OSLogStore) where
  toRawId = idToRawId
  withObjCPtr = withIdObjCPtr
  staticClass _ = getRequiredClass "OSLogStore"

class IsNSObject a => IsOSLogStore a where
  toOSLogStore :: a -> Id OSLogStore

instance IsOSLogStore (Id OSLogStore) where
  toOSLogStore = unsafeCastId

instance IsNSObject (Id OSLogStore) where
  toNSObject = unsafeCastId

-- ---------- OSLogEnumerator ----------

-- | OSLogEnumerator
--
-- An enumerator that views entries in the unified logging system.
-- 
-- Phantom type for @OSLogEnumerator@.
data OSLogEnumerator

instance IsObjCObject (Id OSLogEnumerator) where
  toRawId = idToRawId
  withObjCPtr = withIdObjCPtr
  staticClass _ = getRequiredClass "OSLogEnumerator"

class IsNSEnumerator a => IsOSLogEnumerator a where
  toOSLogEnumerator :: a -> Id OSLogEnumerator

instance IsOSLogEnumerator (Id OSLogEnumerator) where
  toOSLogEnumerator = unsafeCastId

instance IsNSEnumerator (Id OSLogEnumerator) where
  toNSEnumerator = unsafeCastId

instance IsNSObject (Id OSLogEnumerator) where
  toNSObject = unsafeCastId

-- ---------- OSLogEntryActivity ----------

-- | OSLogEntryActivity
--
-- An entry generated by an activity event.
-- 
-- Phantom type for @OSLogEntryActivity@.
data OSLogEntryActivity

instance IsObjCObject (Id OSLogEntryActivity) where
  toRawId = idToRawId
  withObjCPtr = withIdObjCPtr
  staticClass _ = getRequiredClass "OSLogEntryActivity"

class IsOSLogEntry a => IsOSLogEntryActivity a where
  toOSLogEntryActivity :: a -> Id OSLogEntryActivity

instance IsOSLogEntryActivity (Id OSLogEntryActivity) where
  toOSLogEntryActivity = unsafeCastId

instance IsNSObject (Id OSLogEntryActivity) where
  toNSObject = unsafeCastId

instance IsOSLogEntry (Id OSLogEntryActivity) where
  toOSLogEntry = unsafeCastId

-- ---------- OSLogEntryBoundary ----------

-- | OSLogEntryBoundary
--
-- This entry represents metadata that partitions sequences of other entries.
--
-- For example, this kind of entry is used for boot boundaries. The data here are currently informational and carried in the composedMessage property.
-- 
-- Phantom type for @OSLogEntryBoundary@.
data OSLogEntryBoundary

instance IsObjCObject (Id OSLogEntryBoundary) where
  toRawId = idToRawId
  withObjCPtr = withIdObjCPtr
  staticClass _ = getRequiredClass "OSLogEntryBoundary"

class IsOSLogEntry a => IsOSLogEntryBoundary a where
  toOSLogEntryBoundary :: a -> Id OSLogEntryBoundary

instance IsOSLogEntryBoundary (Id OSLogEntryBoundary) where
  toOSLogEntryBoundary = unsafeCastId

instance IsNSObject (Id OSLogEntryBoundary) where
  toNSObject = unsafeCastId

instance IsOSLogEntry (Id OSLogEntryBoundary) where
  toOSLogEntry = unsafeCastId

-- ---------- OSLogEntryLog ----------

-- | OSLogEntryLog
--
-- Entries made by the os_log API.
-- 
-- Phantom type for @OSLogEntryLog@.
data OSLogEntryLog

instance IsObjCObject (Id OSLogEntryLog) where
  toRawId = idToRawId
  withObjCPtr = withIdObjCPtr
  staticClass _ = getRequiredClass "OSLogEntryLog"

class IsOSLogEntry a => IsOSLogEntryLog a where
  toOSLogEntryLog :: a -> Id OSLogEntryLog

instance IsOSLogEntryLog (Id OSLogEntryLog) where
  toOSLogEntryLog = unsafeCastId

instance IsNSObject (Id OSLogEntryLog) where
  toNSObject = unsafeCastId

instance IsOSLogEntry (Id OSLogEntryLog) where
  toOSLogEntry = unsafeCastId

-- ---------- OSLogEntrySignpost ----------

-- | OSLogEntrySignpost
--
-- Entries made by the os_signpost API.
-- 
-- Phantom type for @OSLogEntrySignpost@.
data OSLogEntrySignpost

instance IsObjCObject (Id OSLogEntrySignpost) where
  toRawId = idToRawId
  withObjCPtr = withIdObjCPtr
  staticClass _ = getRequiredClass "OSLogEntrySignpost"

class IsOSLogEntry a => IsOSLogEntrySignpost a where
  toOSLogEntrySignpost :: a -> Id OSLogEntrySignpost

instance IsOSLogEntrySignpost (Id OSLogEntrySignpost) where
  toOSLogEntrySignpost = unsafeCastId

instance IsNSObject (Id OSLogEntrySignpost) where
  toNSObject = unsafeCastId

instance IsOSLogEntry (Id OSLogEntrySignpost) where
  toOSLogEntry = unsafeCastId
